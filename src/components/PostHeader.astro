---
import type { CollectionEntry } from "astro:content";
import { formatDate } from "../utils/date";

export type Props = {
  post: CollectionEntry<"post">;
  nextPost?: CollectionEntry<"post">;
  prevPost?: CollectionEntry<"post">;
};

const { post } = Astro.props;
const { title, publishDate } = post.data;

// sécurité minimale
const date = publishDate instanceof Date ? publishDate : new Date(publishDate);
const dateLabel = Number.isNaN(date.getTime()) ? "" : formatDate(date, "dd.MM yyyy");
---

<article class="post-header">
  <h2 class="second-heading">{title}</h2>

  {dateLabel && <p class="post-header__date">{dateLabel}</p>}

  <p>
    Par <a class="u-link" href="/about">Calix Monnet</a>.
  </p>
</article>
